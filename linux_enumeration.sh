#!/bin/bash

# Enumerate basic linux information

echo Target name?

read target

touch $target

echo "========== HISTORY ==========" >> $target

history >> $target
cat ./bash_history >> $target

echo "========== SUDO ==========" >> $target

sudo -l >> $target

echo "========== HISTORY ==========" >> $target

find / -perm -4000 -o -perm -2000 -ls 2>/dev/null >> $target

echo "========== PROCESSES ==========" >> $target

ps -ef >> $target

echo "========== LISTENING TCP/UDP CONNECTIONS ==========" >> $target

netstat -tulpn >> $target

echo "========== NETWORK CONNECTION ==========" >> $target

ifconfig -a >> $target

echo "========== ARP TABLE ==========" >> $target

arp -a >> $target

echo "========== SYSTEM ==========" >> $target

uname -a >> $target

echo "========== USERS ==========" >> $target

id >> $target
cat /etc/passwd | cut -d : -f 1 >> $target

echo "========== LAST LOGGED ON USERS ==========" >> $target

last -a >> $target

echo "========== USERS W/ SHELLS ==========" >> $target

getent passwd | grep -v nologin | grep -v false >> $target

echo "========== OS INFO ==========" >> $target

cat /etc/issue >> $target

echo "========== Crontab ==========" >> $target

crontab -L >> $target

echo "========== PYTHON VERSION ==========" >> $target

which python >> $target
which python2 >> $target
which python3 >> $target

# end of script
